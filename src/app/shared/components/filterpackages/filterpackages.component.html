<div class="mobile-header">
  <button id="filter-toggle" (click)="toggleFilters()">{{ filterButtonText }}</button>
</div>

<div *ngIf="loadingText" class="loading-indicator" style="text-align:center; padding: 20px; font-size: 1.2rem; color: #1976d2; background: #f0f4fa; border-radius: 8px; margin: 20px 0;">
  <i  style="margin-right:8px;"></i>
  {{ loadingText }}
</div>

<div class="container">

  <aside class="sidebar" [class.active]="showFilters" id="sidebar">
    <!-- <div class="filter-section">
      <h3>  Price Filters </h3>
      <label><input type="checkbox"> Expensive Tours </label>
      <label><input type="checkbox"> Under of Price 10000</label>
      <label><input type="checkbox"> over of Price 6000</label>
      <label><input type="checkbox"> low priceing </label>
    </div> -->

   <div class="filter-section">
  <h3>Package Filters</h3>
  <label *ngFor="let key of objectKeys(filters)">
    <input 
      type="checkbox" 
      [checked]="filters[key]" 
      (change)="getPackagesWithFilters(key)" 
    />
    {{ filterLabels[key] }}
  </label>
</div>

    <div class="filter-section">
      <h3>Price Filters</h3>
      <label *ngFor="let key of objectKeys(priceFilters)">
        <input type="checkbox" [(ngModel)]="priceFilters[key]" (ngModelChange)="getPackagesWithFilters()" />
        {{ priceLabels[key] }}
      </label>
    </div>
  </aside>
 

  <div style="display: block;">
    
 
 <main class="main-content" *ngIf="showfilter">

    <div *ngFor="let pack of package" class="package-card" style="background-color: #ecf1f7;" 
      (mouseenter)="pack.hover = true" (mouseleave)="pack.hover = false"
      [style.backgroundColor]="pack.hover ? '#fff' : '#ecf1f7'">
  <div class="image-section">
    <ng-container *ngFor="let image of pack.images">
      <img [src]="backendUrl + image.img" alt="{{ pack.place_name }}">
    </ng-container>
  </div>

      <div class="details-section">
        <h2>{{ pack.place_name }}</h2>
        <div class="grid-details-section">
          <div class="text">
            <p><strong>Duration:</strong> <span>{{ pack.duration_days }}</span></p>
            <p><strong>Origin:</strong> <span>{{ pack.origin }}</span></p>
            <p><strong>Departure:</strong> <span>{{ pack.departure_point }}</span></p>
            <p><strong>Package:</strong> <span>{{ pack.package_code }}</span></p>
            <p><strong>Destination:</strong> <span>Dwarka / Nageshwar / Porbandar / Somnath</span></p>
            <p><strong>Date Of Journey:</strong> <span>Multiple Options</span></p>
          </div>
        </div>
        <div class="icons">
          <li>
            <i class="fa-solid fa-bus-simple"></i>
            <i class="fa-solid fa-car-side"></i>
            <i class="fa-solid fa-train"></i>
            <i class="fa-solid fa-hotel"></i>
          </li>
        </div>
      </div>

      <div class="price-section">
        <p id="check">Starting from</p>
        <h3 style="text-wrap: nowrap;">₹ {{ pack.price_trip }}</h3>
        <a [routerLink]="['/view',pack.package_id]" class="view-details" style="text-decoration: none;">View Details</a>
        <button [routerLink]="['/view',pack.package_id]" class="book-now">Book Now</button>
      </div>
    </div>
  </main>
  <!-- for filtering  --> 
  <main class="main-content" >
    <div *ngFor="let pack of check" class="package-card">
  <div class="image-section">
    <ng-container *ngFor="let image of pack.images">
      <img [src]="backendUrl + image.img" alt="{{ pack.place_name }}">
    </ng-container>
  </div>

      <div class="details-section">
        <h2>{{ pack.place_name }}</h2>
        <div class="grid-details-section">
          <div class="text">
            <p><strong>Duration:</strong> <span>{{ pack.duration_days }}</span></p>
            <p><strong>Origin:</strong> <span>{{ pack.origin }}</span></p>
            <p><strong>Departure:</strong> <span>{{ pack.departure_point }}</span></p>
            <p><strong>Package:</strong> <span>{{ pack.package_code }}</span></p>
            <p><strong>Destination:</strong> <span>Dwarka / Nageshwar / Porbandar / Somnath</span></p>
            <p><strong>Date Of Journey:</strong> <span>Multiple Options</span></p>
          </div>
        </div>
        <div class="icons">
          <li>
            <i class="fa-solid fa-bus-simple"></i>
            <i class="fa-solid fa-car-side"></i>
            <i class="fa-solid fa-train"></i>
            <i class="fa-solid fa-hotel"></i>
          </li>
        </div>
      </div>

      <div class="price-section">
        <p id="check">Starting from</p>
        <h3 style="text-wrap: nowrap;">₹ {{ pack.price_trip }}</h3>
        <a [routerLink]="['/view',pack.package_id]" class="view-details" style="text-decoration: none;">View Details</a>
        <button [routerLink]="['/view',pack.package_id]" class="book-now">Book Now</button>
      </div>
    </div>
  </main>
</div>
</div>